---
/**
 * @fileoverview Accessible textarea atom.
 */
interface Props {
  id: string;
  name: string;
  placeholder?: string;
  required?: boolean;
  rows?: number;
  ariaInvalid?: 'true' | 'false';
  ariaDescribedby?: string;
}

const { id, name, placeholder, required = false, rows = 6, ariaInvalid, ariaDescribedby } = Astro.props;
---
<textarea
  class="c-textarea"
  id={id}
  name={name}
  placeholder={placeholder}
  required={required}
  rows={rows}
  aria-invalid={ariaInvalid}
  aria-describedby={ariaDescribedby}
></textarea>

<style>
  .c-textarea {
    width: 100%;
    padding: var(--space-4);
    border-radius: var(--input-radius);
    border: var(--input-border-width) solid var(--input-border-color);
    background: var(--input-bg);
    color: var(--input-text);
    resize: vertical;
    min-height: 8rem;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  }

  .c-textarea:focus-visible {
    border-color: var(--color-border-focus);
    box-shadow: 0 0 0 4px color-mix(in srgb, var(--color-accent) 25%, transparent);
    outline: none;
  }
</style>
