---
/**
 * @fileoverview Services page for Crafthead.
 */
import DefaultPageLayout from '@/components/templates/DefaultPageLayout.astro';
import ServicesGrid from '@/components/organisms/ServicesGrid.astro';
import ProcessTimeline from '@/components/organisms/ProcessTimeline.astro';
import ConsultationCTA from '@/components/organisms/ConsultationCTA.astro';
import { getCollection } from 'astro:content';

const pages = await getCollection('pages', ({ data }) => data.slugBase === 'services' && data.locale === 'en');
const pageContent = pages[0];

if (!pageContent) {
  throw new Error('Services page content not found.');
}
---
<DefaultPageLayout content={{
  ...pageContent.data,
  locale: pageContent.data.locale,
  slugBase: pageContent.data.slugBase,
  title: pageContent.data.title,
  hero: pageContent.data.hero,
  sections: pageContent.data.sections,
  seo: {
    metaTitle: pageContent.data.seo?.metaTitle,
    metaDescription: pageContent.data.seo?.metaDescription,
    ogImage: pageContent.data.seo?.ogImage,
  },
}}>
  <ServicesGrid
    heading="Core engagements"
    items={[
      { title: 'Brand Platforms', description: 'Positioning, messaging, expressive visual identity, and launch kits tailored to each audience touchpoint.' },
      { title: 'Digital Experiences', description: 'Conversion-driven websites and product UX backed by research, experimentation, and design systems.' },
      { title: 'Launch Campaigns', description: 'Creative direction, narrative development, and production ecosystems that rally internal and external teams.' },
    ]}
  />
  <ProcessTimeline
    heading="How collaborations move"
    steps={[
      { title: 'Discovery & alignment', description: 'We audit current assets, map stakeholder goals, and define success metrics to guide every decision.' },
      { title: 'Design sprints', description: 'Strategy, design, and prototyping happen in tight feedback loops to maintain velocity and clarity.' },
      { title: 'Rollout & optimisation', description: 'We orchestrate launch assets, collaborate with engineering or media partners, and optimise after release.' },
    ]}
  />
  <ConsultationCTA
    heading="Need senior hands on your next milestone?"
    subheading="Crafthead plugs in as an extension of your leadership team to deliver high-stakes design outcomes."
  />
</DefaultPageLayout>
